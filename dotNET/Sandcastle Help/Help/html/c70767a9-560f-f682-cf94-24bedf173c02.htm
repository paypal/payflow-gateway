<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>FpsXmlData Constructor </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="FpsXmlData class, constructor" /><meta name="System.Keywords" content="FpsXmlData.FpsXmlData constructor" /><meta name="Microsoft.Help.F1" content="PayPal.Payments.DataObjects.FpsXmlData.#ctor" /><meta name="Microsoft.Help.F1" content="PayPal.Payments.DataObjects.FpsXmlData.FpsXmlData" /><meta name="Microsoft.Help.Id" content="M:PayPal.Payments.DataObjects.FpsXmlData.#ctor" /><meta name="Description" content="Constructor for FpsXmlData" /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="PayPal.Payments.DataObjects" /><meta name="file" content="c70767a9-560f-f682-cf94-24bedf173c02" /><meta name="guid" content="c70767a9-560f-f682-cf94-24bedf173c02" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.3.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Payflow Gateway .NET SDK v5<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/560a6b31-acc3-49c1-9659-71770df29342.htm" title="Payflow Gateway .NET SDK v5" tocid="roottoc">Payflow Gateway .NET SDK v5</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/0dec2c26-ee65-673d-4987-7f52e2ddde0f.htm" title="PayPal.Payments.DataObjects" tocid="0dec2c26-ee65-673d-4987-7f52e2ddde0f">PayPal.Payments.DataObjects</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/87c20cd1-3a11-6a51-ce86-4a90beeefa19.htm" title="FpsXmlData Class" tocid="87c20cd1-3a11-6a51-ce86-4a90beeefa19">FpsXmlData Class</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/c70767a9-560f-f682-cf94-24bedf173c02.htm" title="FpsXmlData Constructor " tocid="c70767a9-560f-f682-cf94-24bedf173c02">FpsXmlData Constructor </a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/80ea9c41-a99f-fc31-93da-7c9bfa7f7e9e.htm" title="FpsXmlData Properties" tocid="80ea9c41-a99f-fc31-93da-7c9bfa7f7e9e">FpsXmlData Properties</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ceebc173-c66b-8f12-92d0-952022a743e4.htm" title="FpsXmlData Methods" tocid="ceebc173-c66b-8f12-92d0-952022a743e4">FpsXmlData Methods</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/Help.png" /></td><td class="titleColumn"><h1>FpsXmlData Constructor </h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Constructor for FpsXmlData
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="0dec2c26-ee65-673d-4987-7f52e2ddde0f.htm">PayPal.Payments.DataObjects</a><br />
    <strong>Assembly:</strong>
   Payflow_dotNET (in Payflow_dotNET.dll) Version: 0.0.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EBCA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EBCA','cs','1','2');return false;">C#</a></div><div id="ID0EBCA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EBCA','vb','2','2');return false;">VB</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EBCA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EBCA');return false;" title="Copy">Copy</a></div></div><div id="ID0EBCA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="identifier">FpsXmlData</span>()</pre></div><div id="ID0EBCA_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Sub</span> <span class="identifier">New</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EBCA");</script></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID2RBSection" class="collapsibleSection">If the VERBOSITY set for the transaction is HIGH, 
            Fraud Protection Services return FPS_PREXMLDATA and/or 
            FPS_POSTXMLDATA response messages. This are xml messages.
            <p>While parsing the response, these xml messages are parsed 
            and populated into Rule data objects. These Rule objects are rules applied 
            by the Fraud Protection Services.. FpsXmlData is the container class 
            for all such rules.</p><p>FpsXmlData data objects instances are contained in 
            FraduResponse and populated if obtained.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID3RBSection" class="collapsibleSection">
            Following example shows how to obtained and use FpsXmlData.
            <div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EBAABA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EBAABA','cs','1','2');return false;">C#</a></div><div id="ID0EBAABA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EBAABA','vb','2','2');return false;">VB</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EBAABA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EBAABA');return false;" title="Copy">Copy</a></div></div><div id="ID0EBAABA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">..............................
 <span class="highlight-comment">// Resp is the Response object </span>
<span class="highlight-comment">// obtained after submitting the transaction.</span>
..............................

FpsXmlData mFpsXmlData;
ArrayList mRules = <span class="highlight-keyword">new</span> ArrayList();
Rule mRuleType;
RuleParameter mRuleVendorParamType;
ArrayList mRuleVendorParams = <span class="highlight-keyword">new</span> ArrayList();
<span class="highlight-keyword">int</span> i;

<span class="highlight-keyword">if</span>(Resp != <span class="highlight-keyword">null</span>)
{
    <span class="highlight-comment">// Get the Fraud Response</span>
    FraudResponse FraudResp = Resp.FraudResult;

    <span class="highlight-keyword">if</span>(FraudResp == <span class="highlight-keyword">null</span>)
    {
        <span class="highlight-keyword">return</span>;
    }

FpsPreXmlData = FraudResp.Fps_PreXmlData;
mRules = FpsPreXmlData.Rules;
<span class="highlight-keyword">foreach</span> (PayPal.Payments.DataObjects.Rule tempLoopVar_mRuleType <span class="highlight-keyword">in</span> mRules)
{
    mRuleType = tempLoopVar_mRuleType;

    Console.WriteLine(<span class="highlight-literal">"ACTION FOR RULE ID - "</span> + mRuleType.RuleId+ mRuleType.Action);
    Console.WriteLine(<span class="highlight-literal">"NUM FOR RULE ID - "</span> + mRuleType.RuleId+ mRuleType.Num);
    Console.WriteLine(<span class="highlight-literal">"RULEALIAS FOR RULE ID - "</span> + mRuleType.RuleId+ mRuleType.RuleAlias);
    Console.WriteLine(<span class="highlight-literal">"RULEDESCRIPTION FOR RULE ID - "</span> + mRuleType.RuleId+ mRuleType.RuleDescription);
    Console.WriteLine(<span class="highlight-literal">"TRIGGEREDMESSAGE FOR RULE ID - "</span> + mRuleType.RuleId+ mRuleType.TriggeredMessage);

    mRuleVendorParams = mRuleType.RuleVendorParms;
    i=<span class="highlight-number">0</span>;
    <span class="highlight-keyword">foreach</span> (RuleParameter tempLoopVar_mRuleVendorParamType <span class="highlight-keyword">in</span> mRuleVendorParams)
    {
        mRuleVendorParamType = tempLoopVar_mRuleVendorParamType;
        Console.WriteLine(<span class="highlight-literal">"Name_"</span>+i.ToString()+<span class="highlight-literal">" FOR RULE ID -"</span>+mRuleType.RuleId+ mRuleVendorParamType.Name);
        Console.WriteLine(<span class="highlight-literal">"Num_"</span>+i.ToString()+<span class="highlight-literal">" FOR RULE ID -"</span>+mRuleType.RuleId+ mRuleVendorParamType.Num);
        Console.WriteLine(<span class="highlight-literal">"Type_"</span>+i.ToString()+<span class="highlight-literal">" FOR RULE ID -"</span>+mRuleType.RuleId+ mRuleVendorParamType.Type);
        Console.WriteLine(<span class="highlight-literal">"Value_"</span>+i.ToString()+<span class="highlight-literal">" FOR RULE ID -"</span>+mRuleType.RuleId+ mRuleVendorParamType.Value);
       i++;
    }
}

FpsPreXmlData = mFraudResp.Fps_PostXmlData;
mRules = FpsPreXmlData.Rules;
<span class="highlight-keyword">foreach</span> (PayPal.Payments.DataObjects.Rule tempLoopVar_mRuleType <span class="highlight-keyword">in</span> mRules)
{
    mRuleType = tempLoopVar_mRuleType;

    Console.WriteLine(<span class="highlight-literal">"RuleId"</span>+ mRuleType.RuleId);
    Console.WriteLine(<span class="highlight-literal">"ACTION FOR RULE ID - "</span> + mRuleType.RuleId+ mRuleType.Action);
    Console.WriteLine(<span class="highlight-literal">"NUM FOR RULE ID - "</span> + mRuleType.RuleId+ mRuleType.Num);
    Console.WriteLine(<span class="highlight-literal">"RULEALIAS FOR RULE ID - "</span> + mRuleType.RuleId+ mRuleType.RuleAlias);
    Console.WriteLine(<span class="highlight-literal">"RULEDESCRIPTION FOR RULE ID - "</span> + mRuleType.RuleId+ mRuleType.RuleDescription);
    Console.WriteLine(<span class="highlight-literal">"TRIGGEREDMESSAGE FOR RULE ID - "</span> + mRuleType.RuleId+ mRuleType.TriggeredMessage);

    mRuleVendorParams = mRuleType.RuleVendorParms;
    i=<span class="highlight-number">0</span>;
    <span class="highlight-keyword">foreach</span> (RuleParameter tempLoopVar_mRuleVendorParamType <span class="highlight-keyword">in</span> mRuleVendorParams)
    {
        mRuleVendorParamType = tempLoopVar_mRuleVendorParamType;
        Console.WriteLine(<span class="highlight-literal">"NAME_"</span>+i.ToString()+<span class="highlight-literal">" FOR RULE ID -"</span>+mRuleType.RuleId+ mRuleVendorParamType.Name);
        Console.WriteLine(<span class="highlight-literal">"NUM "</span>+i.ToString()+<span class="highlight-literal">" FOR RULE ID -"</span>+mRuleType.RuleId+ mRuleVendorParamType.Num);
        Console.WriteLine(<span class="highlight-literal">"TYPE "</span>+i.ToString()+<span class="highlight-literal">" FOR RULE ID -"</span>+mRuleType.RuleId+ mRuleVendorParamType.Type);
        Console.WriteLine(<span class="highlight-literal">"VALUE "</span>+i.ToString()+<span class="highlight-literal">" FOR RULE ID -"</span>+mRuleType.RuleId+ mRuleVendorParamType.Value);
        i++;
    }
}</pre></div><div id="ID0EBAABA_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve">..............................
' Resp is the Response object 
' obtained after submitting the transaction.
..............................

Dim FpsXmlData As FpsXmlData
Dim Rules As New ArrayList
Dim RuleType As Rule
Dim RuleVendorParamType As RuleParameter
Dim RuleVendorParams As New ArrayList

if(Resp != null)
{
    ' Get the Fraud Response
        Dim FraudResp As FraudResponse = Resp.FraudResult

        If Object.Equals(FraudResp, Nothing) Then
                return
        EndIf

FpsPreXmlData = FraudResp.Fps_PreXmlData
Rules = FpsPreXmlData.Rules()
Dim iCount As Integer
iCount = 0
For Each RuleType In Rules

    Console.WriteLine("ACTION FOR RULE ID - " + RuleType.RuleId + RuleType.Action)
    Console.WriteLine("NUM FOR RULE ID - " + RuleType.RuleId + RuleType.Num)
    Console.WriteLine("RULEALIAS FOR RULE ID - " + RuleType.RuleId + RuleType.RuleAlias)
    Console.WriteLine("RULEDESCRIPTION FOR RULE ID - " + RuleType.RuleId + RuleType.RuleDescription)
    Console.WriteLine("TRIGGEREDMESSAGE FOR RULE ID - " + RuleType.RuleId + RuleType.TriggeredMessage)

    RuleVendorParams = RuleType.RuleVendorParms
    For Each RuleVendorParamType In RuleVendorParams
        Console.WriteLine("NAME_" + iCount.ToString + " FOR RULE ID - " + RuleType.RuleId + RuleVendorParamType.Name)
        Console.WriteLine("NUM_" + iCount.ToString + " FOR RULE ID - " + RuleType.RuleId + RuleVendorParamType.Num)
        Console.WriteLine("TYPE_" + iCount.ToString + " FOR RULE ID - " + RuleType.RuleId + RuleVendorParamType.Type)
        Console.WriteLine("VALUE_" + iCount.ToString + " FOR RULE ID - " + RuleType.RuleId + RuleVendorParamType.Value)
        iCount = iCount + 1
    Next
Next

FpsPostXmlData = FraudResp.Fps_PostXmlData
Rules = FpsPostXmlData.Rules()
For Each RuleType In Rules

    Console.WriteLine("RuleId" + RuleType.RuleId)
    Console.WriteLine("ACTION FOR RULE ID - " + RuleType.RuleId + RuleType.Action)
    Console.WriteLine("NUM FOR RULE ID - " + RuleType.RuleId + RuleType.Num)
    Console.WriteLine("RULEALIAS FOR RULE ID - " + RuleType.RuleId + RuleType.RuleAlias)
    Console.WriteLine("RULEDESCRIPTION FOR RULE ID - " + RuleType.RuleId + RuleType.RuleDescription)
    Console.WriteLine("TRIGGEREDMESSAGE FOR RULE ID - " + RuleType.RuleId + RuleType.TriggeredMessage)

    RuleVendorParams = RuleType.RuleVendorParms

    iCount = 0
    For Each RuleVendorParamType In RuleVendorParams
        Console.WriteLine("NAME_" + iCount.ToString + " FOR RULE ID - " + RuleType.RuleId + RuleVendorParamType.Name)
        Console.WriteLine("NUM_" + iCount.ToString + " FOR RULE ID - " + RuleType.RuleId + RuleVendorParamType.Num)
        Console.WriteLine("TYPE_" + iCount.ToString + " FOR RULE ID - " + RuleType.RuleId + RuleVendorParamType.Type)
        Console.WriteLine("VALUE_" + iCount.ToString + " FOR RULE ID - " + RuleType.RuleId + RuleVendorParamType.Value)
        iCount = iCount + 1
    Next
Next</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EBAABA");</script></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID4RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="87c20cd1-3a11-6a51-ce86-4a90beeefa19.htm">FpsXmlData Class</a></div><div class="seeAlsoStyle"><a href="0dec2c26-ee65-673d-4987-7f52e2ddde0f.htm">PayPal.Payments.DataObjects Namespace</a></div><div class="seeAlsoStyle"><a href="ed93b111-70dd-d40e-8fa4-ccc90baa2e6c.htm">PayPal.Payments.DataObjects<span id="LSTCC4280CE_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTCC4280CE_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>FraudResponse</a></div><div class="seeAlsoStyle"><a href="dd48db61-5e97-9cb2-71db-66dbf992f114.htm">PayPal.Payments.DataObjects<span id="LSTCC4280CE_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTCC4280CE_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Rule</a></div><div class="seeAlsoStyle"><a href="196273cd-d50d-c111-2022-034b7524b2af.htm">PayPal.Payments.DataObjects<span id="LSTCC4280CE_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTCC4280CE_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>RuleParameter</a></div></div></div></div><div id="pageFooter" class="pageFooter"><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:DL-PayPal-Payflow-SDK%40paypal.com?Subject=Payflow%20Gateway%20.NET%20SDK%20v5">DL-PayPal-Payflow-SDK@paypal.com</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script> </div></body></html>